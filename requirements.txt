# ============================================================================
# Kiss3DGen - Image to 3D Pipeline
# ============================================================================
# Python Version: 3.11.9 (OBRIGATÓRIO)
# 
# IMPORTANTE:
# - Este projeto requer Python 3.11.9 especificamente
# - NÃO use Python 3.12+ ou 3.10- (pode causar incompatibilidades)
# - Requer CUDA para GPU (NVIDIA)
# - Requer Visual Studio C++ Build Tools para compilar nvdiffrast (Windows)
# - Requer autenticação HuggingFace para baixar modelos Flux
# 
# INSTALAÇÃO:
# 1. Instalar Python 3.11.9: https://www.python.org/downloads/release/python-3119/
# 2. Criar ambiente virtual: python3.11 -m venv mesh3d-generator-py3.11
# 3. Ativar ambiente: .\mesh3d-generator-py3.11\Scripts\activate (Windows)
# 4. Instalar PyTorch com CUDA primeiro
# 5. Depois instalar este requirements.txt
# ============================================================================

# ============================================================================
# PyTorch e CUDA
# ============================================================================
# Instalar PyTorch com CUDA 12.1 (ajustar conforme sua versão CUDA)
# Para CUDA 12.1:
# pip install torch torchvision torchaudio --index-url https://download.pytorch.org/whl/cu121
# Para CUDA 11.8:
# pip install torch torchvision torchaudio --index-url https://download.pytorch.org/whl/cu118

# ============================================================================
# Dependências Core do Kiss3DGen
# ============================================================================
einops==0.8.0
imageio==2.36.1
imageio-ffmpeg==0.5.1
Imath==0.0.2
jaxtyping==0.2.36
kiui==0.2.10
mathutils==3.3.0
matplotlib==3.9.2
omegaconf==2.3.0
onnxruntime==1.18.0
open3d==0.18.0
opencv-python==4.10.0.84
opencv-python-headless==4.9.0.80
OpenEXR==3.3.2
Pillow==11.0.0
plyfile==1.1
PyGLM==2.7.1
pygltflib==1.16.3
PyMCubes==0.1.4
pymeshlab==2023.12.post1
PyOpenGL==3.1.0
PyYAML==6.0.1
rembg==2.0.57
scipy==1.13.1
tqdm==4.66.4
transformers==4.47.1
trimesh==4.4.0
webdataset==0.2.86
xatlas==0.0.9

# ============================================================================
# Build Tools e Compilação
# ============================================================================
ninja
# nvdiffrast requer compilação C++ (instalar via git)
# git+https://github.com/NVlabs/nvdiffrast

# ============================================================================
# HuggingFace e Modelos
# ============================================================================
sentencepiece
accelerate
huggingface-hub
diffusers
# Nota: diffusers customizado está em Kiss3DGen/custom_diffusers/
# Instalar com: pip install -e Kiss3DGen/custom_diffusers/

# ============================================================================
# Machine Learning e Deep Learning
# ============================================================================
fvcore
pytorch-lightning==2.2.0
PEFT==0.10.0
pyrender==0.1.45
timm

# ============================================================================
# PyTorch3D (para renderização avançada)
# ============================================================================
# Instalar via git (versão estável):
# pip install "git+https://github.com/facebookresearch/pytorch3d.git@stable"

# ============================================================================
# NumPy (versão específica para compatibilidade)
# ============================================================================
numpy==1.26.3

# ============================================================================
# Dependências Adicionais (instaladas durante desenvolvimento)
# ============================================================================
protobuf
ollama

# ============================================================================
# Instalação de Pacotes via Git
# ============================================================================
# nvdiffrast (requer Visual Studio C++ Build Tools no Windows):
# pip install git+https://github.com/NVlabs/nvdiffrast

# PyTorch3D:
# pip install "git+https://github.com/facebookresearch/pytorch3d.git@stable"

# Diffusers customizado (do Kiss3DGen):
# pip install -e Kiss3DGen/custom_diffusers/

# ============================================================================
# NOTAS DE INSTALAÇÃO
# ============================================================================
# 1. Python 3.11.9 é OBRIGATÓRIO (não use outras versões)
# 2. Criar ambiente virtual com Python 3.11.9:
#    python3.11 -m venv mesh3d-generator-py3.11
#    .\mesh3d-generator-py3.11\Scripts\activate  # Windows
#    source mesh3d-generator-py3.11/bin/activate  # Linux/Mac
# 3. Instalar PyTorch com CUDA primeiro (dentro do venv):
#    pip install torch torchvision torchaudio --index-url https://download.pytorch.org/whl/cu121
# 4. Instalar Visual Studio C++ Build Tools (Windows) antes de nvdiffrast
# 5. Autenticar no HuggingFace para baixar modelos Flux:
#    huggingface-cli login
# 6. Baixar modelos necessários:
#    python scripts/download_models.py
#    python scripts/download_redux.py  # Opcional
#    python scripts/download_lrm.py   # Opcional
# 7. Instalar diffusers customizado:
#    cd Kiss3DGen
#    pip install -e custom_diffusers/
#    cd ..
# ============================================================================

